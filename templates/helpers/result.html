<!DOCTYPE html><html lang="en"><head><title>templates/helpers/result</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../../"><meta name="groc-document-path" content="templates/helpers/result"><meta name="groc-project-path" content="lib/templates/helpers/result.coffee"><meta name="groc-github-url" content="https://github.com/KleeGroup/focus"><link rel="stylesheet" type="text/css" media="all" href="../../assets/style.css"><script type="text/javascript" src="../../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/KleeGroup/focus/blob/master/lib/templates/helpers/result.coffee">lib/templates/helpers/result.coffee</a></div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>Create the default <em>opening</em> html for table result. Works as a tag.
Works with <em>close_result_table</em> helper.</p></div></div><div class="code"><div class="wrapper">Handlebars.registerHelper <span class="hljs-string">"result"</span>, <span class="hljs-function"><span class="hljs-params">(options)</span>-&gt;</span>
  options = options <span class="hljs-keyword">or</span> {}
  opt = options.hash <span class="hljs-keyword">or</span> {}
  isTable = <span class="hljs-keyword">if</span> opt.isTable? <span class="hljs-keyword">then</span> opt.isTable <span class="hljs-keyword">else</span> <span class="hljs-literal">true</span>
  resultLabel = <span class="hljs-keyword">if</span> opt.resultLabel <span class="hljs-keyword">then</span> i18n.t(opt.resultLabel) <span class="hljs-keyword">else</span> <span class="hljs-literal">undefined</span>
  listTagName = <span class="hljs-keyword">if</span> isTable <span class="hljs-keyword">then</span> <span class="hljs-string">"table"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"ul"</span>
  elementTagName = <span class="hljs-keyword">if</span> isTable <span class="hljs-keyword">then</span> <span class="hljs-string">"tr"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"li"</span>
  striped = <span class="hljs-keyword">if</span> opt.striped? <span class="hljs-keyword">then</span> opt.stripped <span class="hljs-keyword">else</span> <span class="hljs-literal">true</span>
  cssClass = <span class="hljs-keyword">if</span> isTable <span class="hljs-keyword">then</span> <span class="hljs-string">"table table-condensed"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">"list-group"</span>
  <span class="hljs-keyword">if</span> opt.cssClass? <span class="hljs-keyword">then</span> cssClass= <span class="hljs-string">"<span class="hljs-subst">#{cssClass}</span> opt.cssClass"</span>
  <span class="hljs-keyword">if</span> striped 
    cssClass = cssClass + <span class="hljs-string">"  table-striped"</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Generate the header actions.</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-function"><span class="hljs-title">tableHeaderActions</span> = <span class="hljs-params">()</span>=&gt;</span>
    showHeaderActions = <span class="hljs-keyword">if</span> opt.showHeaderActions? <span class="hljs-keyword">then</span> opt.showHeaderActions <span class="hljs-keyword">else</span> <span class="hljs-literal">true</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> showHeaderActions <span class="hljs-keyword">then</span> <span class="hljs-string">"<span class="hljs-subst">#{Handlebars.helpers.tableHeaderAction.call(<span class="hljs-keyword">this</span>, {hash:{resultLabel: <span class="hljs-string">''</span>, exportUrl: <span class="hljs-keyword">this</span>.exportUrl, resultLabel: resultLabel}</span>})} &lt;hr /&gt;"</span> <span class="hljs-keyword">else</span> <span class="hljs-string">""</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Render the pagination Pagination.</p></div></div><div class="code"><div class="wrapper">  <span class="hljs-function"><span class="hljs-title">paginate</span> = <span class="hljs-params">()</span>=&gt;</span>
    isPaginate = <span class="hljs-keyword">if</span> opt.isPaginate? <span class="hljs-keyword">then</span> opt.isPaginate <span class="hljs-keyword">else</span> <span class="hljs-literal">true</span>
    <span class="hljs-keyword">if</span> isPaginate
      Handlebars.helpers.paginate.call(<span class="hljs-keyword">this</span>, {<span class="hljs-attribute">hash</span>:{<span class="hljs-attribute">showResultNumber</span>:<span class="hljs-literal">false</span>}})
    <span class="hljs-keyword">else</span> <span class="hljs-string">""</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Produce the html to render.</p></div></div><div class="code"><div class="wrapper">  html = <span class="hljs-string">" <span class="hljs-subst">#{tableHeaderActions()}</span>
              &lt;<span class="hljs-subst">#{listTagName}</span> class='<span class="hljs-subst">#{cssClass}</span>'&gt;
                <span class="hljs-subst">#{options.fn(@)}</span>
              &lt;/<span class="hljs-subst">#{listTagName}</span>&gt;
            <span class="hljs-subst">#{paginate()}</span>
          &lt;div id='lineSelectionContainer'&gt;&lt;/div&gt;
  "</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Handlebars.SafeString(html)</div></div></div></div></body></html>